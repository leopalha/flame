# ============================================
# FLAME Lounge Bar - Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# ============================================

# Server Configuration
NODE_ENV=development
PORT=7000
FRONTEND_URL=http://localhost:3000

# Database Configuration (SQLite for dev, PostgreSQL for prod)
# SQLite (development - default)
DB_DIALECT=sqlite
DB_STORAGE=./database.sqlite

# PostgreSQL (production)
# DB_DIALECT=postgres
# DATABASE_URL=postgresql://username:password@localhost:5432/flame_db
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=flame_db
# DB_USER=your_db_user
# DB_PASS=your_db_password

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRE=7d

# ============================================
# GOOGLE OAuth 2.0 Configuration
# ============================================
# Get credentials at: https://console.cloud.google.com
# 1. Create a project
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials
# 4. Add authorized redirect URIs
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============================================
# TWILIO Configuration (SMS Verification)
# ============================================
# Get credentials at: https://console.twilio.com
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+5521999999999

# WhatsApp Configuration (uses Twilio WhatsApp API)
# For sandbox: whatsapp:+14155238886
# For production: your approved WhatsApp number
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# FLAME WhatsApp number (to receive reservation notifications)
FLAME_WHATSAPP_NUMBER=+5521995546492

# ============================================
# STRIPE Configuration (Payments)
# ============================================
# Get credentials at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# WEB PUSH Configuration (Push Notifications)
# ============================================
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:contato@flamelounge.com.br

# ============================================
# SendGrid Configuration (Email - Optional)
# ============================================
SENDGRID_API_KEY=SG.your_sendgrid_api_key
FROM_EMAIL=noreply@flamelounge.com.br

# ============================================
# Redis Configuration (Optional - for sessions/cache)
# ============================================
# REDIS_URL=redis://localhost:6379

# ============================================
# Business Rules
# ============================================
MINIMUM_ORDER_VALUE=15.00
SERVICE_FEE_PERCENTAGE=10
MAX_SMS_ATTEMPTS=3
SMS_CODE_EXPIRY_MINUTES=5

# Operating Hours (24h format)
RESTAURANT_OPEN_TIME=18:00
RESTAURANT_CLOSE_TIME=02:00
LAST_ORDER_TIME=01:30

# Cashback Configuration
CASHBACK_BRONZE_RATE=0.02
CASHBACK_SILVER_RATE=0.05
CASHBACK_GOLD_RATE=0.08
CASHBACK_PLATINUM_RATE=0.10
CASHBACK_MAX_USE_PERCENTAGE=0.50
CASHBACK_EXPIRY_DAYS=90

# Tier Thresholds (in R$)
TIER_SILVER_THRESHOLD=1000
TIER_GOLD_THRESHOLD=5000
TIER_PLATINUM_THRESHOLD=10000

# ============================================
# File Upload
# ============================================
MAX_FILE_SIZE=5242880
UPLOAD_PATH=uploads/

# ============================================
# Security
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_SALT_ROUNDS=12

# ============================================
# Jobs Configuration
# ============================================
# Timezone for cron jobs
JOBS_TIMEZONE=America/Sao_Paulo
# Enable/disable specific jobs
JOBS_STOCK_ALERTS_ENABLED=true
JOBS_RESERVATION_REMINDER_ENABLED=true
JOBS_NO_SHOW_CHECK_ENABLED=true
JOBS_CASHBACK_EXPIRY_ENABLED=true
JOBS_DAILY_REPORT_ENABLED=true
